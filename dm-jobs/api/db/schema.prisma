datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider      = "prisma-client-js"
  binaryTargets = "native"
}

model RW_DataMigration {
  version    String   @id
  name       String
  startedAt  DateTime
  finishedAt DateTime
}

model Job {
  id                           Int  @id @default(autoincrement())
  createdAt                    DateTime @default(now())
  title                        String
  description                  String?
  price                        Int
  longitude                    String
  latitude                     String
  threeWords                   String
  status                       String
  timeout                      DateTime?
  additionalAddressInformation String?
  categories                   JobCategoriesOnJobs[]
}

model JobUser {
  id     Int  @id @default(autoincrement())
  jobId  Int
  userId String
}

model JobCategory {
  id                           Int  @id @default(autoincrement())
  type String
  jobs JobCategoriesOnJobs[]
}

model JobCategoriesOnJobs {
  job Job @relation(fields: [jobId], references: [id])
  jobId Int
  category JobCategory @relation(fields: [categoryId], references: [id])
  categoryId Int
  assigendAt DateTime @default(now())

  @@id([jobId, categoryId])
}
